import Validators from"../../validators.js";export default class EnglishValidators extends Validators{#fnLetraDni(r){return"TRWAGMYFPDXBNJZSQVHLCKE".charAt(parseInt(r,10)%23)==r.charAt(8)}isDni(r,t){return t?/^(\d{8})([A-Z])$/.test(t)&&this.#fnLetraDni(t)?this:this.setError("errNif",r):this.setError("errRequired",r)}isCif(r,t){if(!t)return this.setError("errRequired",r);t=t.match(/^([ABCDEFGHJKLMNPQRSUVW])(\d{7})([0-9A-J])$/);if(!t||t.length<2)return this.setError("errNif",r);var s=t[1],i=t[2],t=t[3],e=0;for(let t=0;t<i.length;t++){let r=parseInt(i[t],10);e+=r=t%2==0?(r*=2)<10?r:parseInt(r/10)+r%10:r}var a=0!==(e%=10)?10-e:e,h="JABCDEFGHI".substr(a,1);return(s.match(/[ABEH]/)?t==a:!s.match(/[KPQS]/)&&t==a||t==h)?this:this.setError("errNif",r)}isNie(r,t){var s;return t?(s=t.charAt(0),this.#fnLetraDni(("X"==s?0:"Y"==s?1:"Z"==s?2:s)+t.substr(1))?this:this.setError("errNif",r)):this.setError("errRequired",r)}isPersonId(r,t){return this.isDni(r,t).isOk()||this.isCif(r,t).isOk()?this:this.isNie(r,t)}}